function getRevisions(){var i=window.location.pathname.substring(11);i=encodeURIComponent(i),jQuery.get("/api/getRevisions/"+i,function(i){var n=$.parseJSON(i);if(0==n.length)$("#lvc-revisions-container").html("<p>No revisions found for this file.</p>");else for(revision in n)console.log(n[revision]),$("#lvc-revisions-container").html("<p>"+n[revision].content+"</p>")})}function initIndex(){$("#add-file-btn").click(function(i){i.preventDefault(),$("#add-file").trigger("click")}),$("#add-file").change(function(i){$.post("/api/addFile",{filename:$(this).val()},function(i){"success"!==i&&console.log("ERROR in file submission")})})}var self=this;$(document).ready(function(){"revisions"==window.location.pathname.substring(1,10)?getRevisions():initIndex()});
