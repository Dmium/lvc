function getRevisions(){var i=window.location.pathname.substring(11);i=encodeURIComponent(i),jQuery.get("/api/getRevisions/"+i,function(i){var n=$.parseJSON(i);if(0==n.length)$("#lvc-revisions-container").html("No revisions found for this file.");else{self.revisions=n;for(revision in n)console.log(n[revision]),$("#lvc-revisions-container").html(n[revision].content);$("#lvc-commit-slider").slider({value:self.revisions.length-1,min:0,max:self.revisions.length-1,step:1,slide:function(i,e){var o=e.value;console.log(o),$("#lvc-revisions-container").html(n[o].content)}})}})}function initIndex(){$("#add-file-btn").click(function(i){i.preventDefault(),$("#add-file").trigger("click")}),$("#add-file").change(function(i){$.post("/api/addFile",{filename:$(this).val()},function(i){"success"!==i&&console.log("ERROR in file submission")})})}var self=this;$(document).ready(function(){"revisions"==window.location.pathname.substring(1,10)?getRevisions():initIndex()});
